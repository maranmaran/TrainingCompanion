<div class="container" fxLayout="column wrap" fxLayoutAlign="center center">

  <div id="login-header">
    <img class="img-fluid" src="../../../../assets/images/logo-transparent.png">
  </div>

  <div id="login-form">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" #form="ngForm" fxLayout="column wrap" fxLayoutGap="5px">

      <mat-form-field>
        <input matInput formControlName="username" autocomplete="username" type="text" id="username"
          placeholder="Username">
        <i matSuffix class="fas fa-user"></i>
      </mat-form-field>

      <mat-form-field>
        <input matInput formControlName="password" autocomplete="current-password"
          [type]="hidePassword ? 'password' : 'text'" class="form-control" id="password" placeholder="Password">
        <button type="button" mat-icon-button matSuffix (mousedown)="hidePassword = false" (mouseup)="hidePassword = true">
          <i class="fas" [ngClass]="{'fa-eye-slash': hidePassword, 'fa-eye': !hidePassword}"></i>
        </button>
      </mat-form-field>

      <mat-error *ngIf="error">Username or password are invalid</mat-error>

      <div id="actions" fxLayout="row" fxLayoutAlign="space-between center">
        <mat-checkbox formControlName="rememberMe" id="checkbox" color="primary">Remember me</mat-checkbox>

        <button mat-flat-button color="primary" id="signin" type="submit" class="float-right"
          [disabled]="!loginForm.valid">Sign in</button>
      </div>

    </form>

  </div>
</div>

<div *ngIf="(loading$ | async)" class="login-spinner-container flex-center">
  <mat-progress-spinner class="login-spinner" [color]="'accent'" [mode]="'indeterminate'" [value]="50">
  </mat-progress-spinner>
</div>