<div class="container" fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign.xs="center center">

  <div fxFlex.gt-xs="0 1 50%" fxFlex.lt-sm="0 1 100%" fxFlexOrder.lt-sm="2" fxFlexOrder.gt-xs="1" fxFlexAlign="center" fxLayout="column" fxLayoutAlign="center center">
    <form [formGroup]="accountForm" (ngSubmit)="onSubmit()" autocomplete="off">

      <mat-form-field>
        <input matInput formControlName="username" [readonly]="editUsername" placeholder="Username">
        <mat-error *ngIf="username.invalid">{{ getErrorMessage }}</mat-error>
        <i matSuffix class="fas fa-pen" *ngIf="editUsername" (click)="editUsername = !editUsername"></i>
        <i matSuffix class="fas fa-save" (click)="onSubmit()" *ngIf="!editUsername && username.valid"></i>
      </mat-form-field>

      <mat-form-field>
        <input matInput formControlName="email" [readonly]="editMail" placeholder="Email">
        <mat-error *ngIf="email.invalid">{{ getErrorMessage }}</mat-error>
        <i matSuffix class="fas fa-pen" (click)="editMail = !editMail" *ngIf="editMail"></i>
        <i matSuffix class="fas fa-save" (click)="onSubmit()" *ngIf="!editMail && email.valid"></i>
      </mat-form-field>

      <button mat-stroked-button color="accent">Change password</button>

    </form>
  </div>

  <div class="avatar-section" fxFlex.gt-xs="0 1 50%" fxFlex.lt-sm="0 1 100%" fxFlexOrder.lt-sm="1" fxFlexOrder.gt-xs="2" fxFlexAlign="center" fxLayout="column" fxLayoutAlign="center center">

    <img (click)="uploadInput.click()" class="img-fluid avatar-img" src="{{ currentUser.avatar }}" />

    <mat-chip-list class="upload-chip">
      <mat-chip color="primary" selected (click)="uploadInput.click()">Change</mat-chip>
    </mat-chip-list>

    <input fxHide="true" #uploadInput type="file" (change)="fileChangeEvent($event)" accept="image/*">
  </div>

</div>
